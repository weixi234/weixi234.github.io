﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿---title: Ubuntu18配置CUDA跑模型date: 2018-10-15 16:48:55tags:- CUDA- ubuntu18- 深度学习categories:- 深度学习---#前言#1、更换源step1：编辑/etc/apt/sources.list文件>sudo gedit /ect/apt/sources.liststep2：更新>sudo apt-get update>sudo apt-get upgrade#2、安装nvidia显卡驱动显卡驱动可参考[如何安装NVIDIA显卡驱动](https://linuxconfig.org/how-to-inatall-the-nvidia-drivers-on-ubuntu-18-04-bionic-beaver-linux#h8-manual-install-using-the-official-nvidia-com-driver)step1：查看显卡设备和驱动>ubuntu-drivers devicesstep2：自动安装合适的显卡驱动>sudo ubuntu-drivers sutoinstall**衡量nvidia显卡驱动安装是否成功**1、终端中确认>nvidia-smi2、设置->详细信息->About3、软件中搜索‘nvidia setting’->Prime profiles**我觉得这里应该有硬件环境和对应的版本选择分析**#3、CUDA官网查询对应版本及相关信息英伟达官方文档[CUDA Toolkit Archive](https://developer.nvidia.com/cuda-toolkit-archive)对应工具版本后面的Online Documentation中的安装指南推荐看看，网上的中文教程应该就是按照这个来的。查询自己计算机的显卡硬件支持？（我没找到）我就用CUDA9.0吧，ubuntu18好像要用CUDA10，我也不知道要怎么选😭CUDA Toolkit 包括：NVCC编译器、CUDA函数头文件及库文件，及一些辅助库CUDA Toolkit SDK 提供CUDA分析接口函数（帮助用户分析CUDA程序）我没有查到自己电脑硬件与cuda toolkits之间的对应关系，不过我觉得cuda toolkits作为个开发包SDK应该是没有影响的。CUDA Toolkit获取[CUDA Toolkit Archive](https://developer.nvidia.com/cuda-toolkit-archive)CUDA Archive获取[CUDA cuDNN Archive](https://developer.nvidia.com/rdp/cudnn-archive)注意CUDA cuDNN与CUDA Toolkit 之间的对应关系#4、安装CUDA Toolkit参照对应版本的说明文档即可>sudo sh cuda_10.0.130_410.48_linux.run注意：出现 更多  点q  accept  驱动不装 其余yes*配置环境*>sudo gedit ~/.barshrc添加>export PATH=/usr/local/cuda-10.0/bin${PATH:+:${PATH}}>export LD_LIBRARY_PATH=/usr/local/cuda-10.0/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}**阅读安装完的summary也可知道****重启***检查cuda是否安装成功*1、检测路径~/dev下有无存在名为nvidia*的多个文件，若无安装出错>ls ~/dev | grep nvidia*2、检查CUDA Toolkit是否安装成功>nvcc -V（大V）3、编译samples例子进入Samples安装目录(就是家目录)，然后在该目录下>make -j4在bin/x86_64/linux/release/运行deviceQuery程序 >sudo ./deviceQueryPass表示通过>sudo ./bandwidthTestPass表示通过#5、安装cuDNN**应该看官方说明文档，我偷懒了**解压cudnn压缩包，执行或参考下面命令>sudo cp cuda/include/cudnn.h  /usr/local/include>sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64>sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*