---
title: 'C#学习1'
date: 2019-01-09 13:16:38
tags:
- 基础语法
- C#
categories: 
- C#
---

# 前言
趁着过年前这段时间能抽点空出来，我决定开始看C#。（20190109）  

# C#和.Net框架 
## 微软平台的编程发展
- 编程语言使用Visual Basic c/c++  
- 20世纪90年代末Win32API MFC COM(组件对象模型)    
- 2002发布第一个.NET框架（多平台，行业标准，安全性）   

## 专业术语
- BCL(Base Class Library)基类库：  
BCL包括：  
(1)通用基础类——文件操作、字符串操作···    
（2）集合类——列表、字典···    
（3）线程和同步类——多线程程序  
（4）XML类——创建、读取以及操作XML文档   
**我们就是编写类库，在编写类库的过程中使用BCL基础类库中的方法。在IDE中编写的代码经过编译后连同BCL基础类库一起在CLR公共语言运行库中运行。**  
编译和运行过程：  
![编译和运行过程](编译和运行过程.png)   
源文件->编译器->程序集->在CLR运行环境中用JIT编译器生成本机代码->本机代码即可和操作系统进行交互     
CLR概览：  
![CLR概览](CLR概览.png)   
托管代码是.Net框架编写的代码，需要在CLR的环境下运行。如程序中定义的变量，变量内存的申请和释放及管理是由CLR公共语言运行库进行管理。   
非托管代码不在CLR控制之下，比如
Win32 C/C++ DLL 称为非托管代码。  

# C#版HelloWorld分析
## 新建C#控制台程序 
文件->新建->项目->Visual C#->Windows桌面->控制台应用（.Net Framework）    

```
    》小卡片《
Ctrl+F5 是执行不调试，程序执行完控制台会停下  
F5      是调试（用于断点调试），程序执行完控制台会闪退  
```

```c#
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApp1
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Hello world");
        }
    }
}
```

## C#程序结构分析
1、引入命名空间。使用到的命名空间是亮色，如using System;未使用的命名空间是暗色的。  
2、定义命名空间namespace ConsoleApp1；命名空间名ConsoleApp1。   
3、定义类。  
4、定义方法，Main方法,只允许一个。  
![C#程序分析](C#程序分析.png)  
```
    》小卡片《
Ctrl+X 剪切  
Ctrl+
```

# C#基础语法
1、标识符：字母 下划线 数字（数字不能放首位）（@字符只能放首位）     
2、命名规范：变量使用Camel命名，方法和类使用Pascal命名。  
![命名规范](命名规范.png)   
3、关键字：所有C#关键字全部由小写字母组成。   
4、Main方法：①每个C#程序的可执行起始点在Main中的第一条指令；②Main方法首字母大写；③Main方法形式static void Main(string[] args){}     
5、块是一个由大括号包围起来的0条或多条语句序列，它在语法上相当于一条语句。   
{   
int var1 = 5;     
System.Console.WriteLine("The value of var1 is {0}",var1);   
}   
块的内容：     
- 某些特定的程序结构只能使用块  
- 语句可以以分号结束，但块后面不跟分号   
![块语法](块语法.png)    

6、控制台窗口是一个简单的命令提示窗口，允许程序显示文本并从键盘接受输入。  
BCL提供一个Console类（在System命名空间下）,该类包含了输入和输出到控制台窗口的方法。   
Write是Console类的成员，它把一个文本字符串发送到程序的控制台窗口。    
最简单的使用，Write把文本字符串字面量发送到窗口，**字符串必须使用双引号括起来**。实例：    
>Console.Write("This is a trivial text.");  
>**注意输出时Write没有在字符串后面添加换行符**   

注意：若没有指定命名空间，可以写成如下。  
>System.Console.Write("This is a trivial text.");  

WriteLine是Console的另外一个成员，它和Write实现相同的功能，但会在每个输出字符串的结尾添加一个换行符。  

7、格式化字符串  
**Console.WriteLine(格式字符串(含替代标记),替换值0，替换值1，替换值2，····)；**
>Console.WriteLine("两个数相加{0}+{1}={2}",3,34,34);

**多重标记和值**
下面的语句使用了3个标记，但只有两个值：   
>Console.WriteLine("Three integers are {1},{0} and {1}",3,5);  
>Three integers are 5,3 and 5   
**但是记住标记不能引用超出替换值列表长度以外位置的值**  

注意：标记{1}，前后不能有空格，错误示例，{ 1 }、{ 1}、{1 }  

8、Write(各种类型)write可以输出各种类型，如：  
>int age=10;
>string name="1233";
>Console.WriteLine(age);
>Console.WriteLine(name);

9、让程序暂停方法：  
>Console.ReadKey();  
 
10、C#中类型  
![简单类型](简单类型.png)    
![简单类型小数](简单类型小数.png)  
![简单类型非数值类型](简单类型非数值类型.png)   

11、字面值  
![字面值](字面值.png)   

12、char和string  
char表示一个字符，字母、数字、@#￥%……&*（）一个汉字。  
string是一个char的数组。  

13、转义字符表  
![转义字符表](转义字符表.png)   
14、字符的Unicode值  
Unicode是一个16进制的数字，表示这个字符在内存中以哪个数字存储。也可以使用Unicode来代表一个转义字符 (\u加上十六进制值)  
>"I\'s siki!"  
>"I\u0027s siki!"

15、使用@不识别转义字符  
如果我们不想去识别字符串中的转义字符，可以在字符串前面加一个@符号（除了双引号其他转义字符都不在识别）   
举例：
>"I'm a good man. \n You are bad girl!"   
>@"I'm a good man. \n You are bad girl!"   
>@"I'm a good man. \n ""You are bad girl!"   
使用两个引号表示一个引号     
@字符的两个作用示例：  
	1）默认一个字符串的定义是放在一行的，如果想要占用多行  
	2）用字符串表示路径"c:\\xxx\\xx\xxx.doc"使用@"c:\xxx\xx\xxx.doc"更能读懂  

16、多变量声明和赋值  
我们可以使用一条语句声明多个类型一样的变量string name1,name2;  
在多变量声明中，可以在变量后面跟上=，对其中的一个变量或者部分或者全部变量进行初始化。   

17、运算符
![数学运算符](数学运算符.png)    
- 最后的两个单独的+和-相当于正负  
- 数学运算符只能处理数字除了字符串相加  
- char可以用来做数学运算  
- char变量实际现在内存中存
储的是数字  

![数学运算符2](数学运算符2.png)
![数学运算符3](数学运算符3.png)   
  
18、Console.ReadLine()方法，这个方法可以从键盘上读取一行的字符串输入，返回的是一个字符串。   

19、类型转换
把一个整形数字的字符串转成一个整形。  
>string str="234324";  
>int i = Convert.ToInt32(str);  

把一个浮点类型的字符串转成一个浮点类型。  
>float f=Convert.ToFloat("34.34");   

20、优先级
![优先级](优先级.png)










